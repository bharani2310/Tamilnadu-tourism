{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { Container, Row, Col } from 'reactstrap';\n// import './form.css';\n// import { BASE_URL } from '../utils/config';\n\n// function UpdateForm({ tourId }) {\n//   const [image, setImage] = useState('');\n//   const [formData, setFormData] = useState({\n//     title: '',\n//     city: '',\n//     address: '',\n//     distance: '',\n//     price: '',\n//     maxGroupSize: '',\n//     desc: '',\n//     photo: null,\n//     featured: false,\n//   });\n//   const [objectId, setObjectId] = useState('');\n\n//   useEffect(() => {\n//     console.log('Id:', tourId);\n//     setObjectId(tourId);\n\n//     const fetchData = async () => {\n//       try {\n//         const response = await fetch(`${BASE_URL}/tours/${tourId}`);\n//         const result = await response.json();\n//         console.log('Retrieved tour:', result);\n//         setObjectId(result.data._id);\n//         setFormData(result.data);\n//       } catch (error) {\n//         console.error('Error retrieving tour:', error);\n//         window.alert('Oops. Try Again');\n//       }\n//     };\n\n//     if (tourId) {\n//       fetchData();\n//     }\n//   }, [tourId]);\n\n//   const handleChange = (e) => {\n//     const { name, value, type, checked } = e.target;\n//     const val = type === 'checkbox' ? checked : value;\n//     setFormData((prevData) => ({\n//       ...prevData,\n//       [name]: val,\n//     }));\n//   };\n\n//   function convertToBase64(e) {\n//     const file = e.target.files[0];\n//     const reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onload = () => {\n//       const base64Result = reader.result;\n//       setImage(base64Result);\n//       setFormData((prevData) => ({\n//         ...prevData,\n//         photo: base64Result,\n//       }));\n//     };\n//     reader.onerror = (error) => {\n//       console.error('Error: ', error);\n//     };\n//   }\n\n//   const handleUpdate = async () => {\n//     console.log('update ObjectId:', objectId);\n\n//     try {\n//       const response = await fetch(`${BASE_URL}/tours/${objectId}`, {\n//         method: 'PUT',\n//         credentials: 'include',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify(formData),\n//       });\n//       const result = await response.json();\n//       if (!response.ok) {\n//         return alert(result.message);\n//       }\n//       window.alert('Updated Successfully...');\n//       window.location.reload();\n//     } catch (error) {\n//       console.error('Error updating tour:', error);\n//       window.alert('Oops. Try Again');\n//     }\n//   };\n\n//   return (\n//       <Container>\n//         <Row>\n//           <Col>\n//           <form>\n//       <div className='form-main-group'>\n\n//               <div className=\"form-group\">\n//                 <input type=\"file\" name=\"photo\" onChange={convertToBase64} />\n//                 {formData.photo && <img width={100} height={100} src={formData.photo} alt=\"\" />}\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"text\"\n//                   placeholder=\"Title\"\n//                   name=\"title\"\n//                   value={formData.title}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"text\"\n//                   placeholder=\"City\"\n//                   name=\"city\"\n//                   value={formData.city}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"text\"\n//                   placeholder=\"Address\"\n//                   name=\"address\"\n//                   value={formData.address}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"number\"\n//                   placeholder=\"Distance\"\n//                   name=\"distance\"\n//                   value={formData.distance}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"number\"\n//                   placeholder=\"Price\"\n//                   name=\"price\"\n//                   value={formData.price}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <input\n//                   type=\"number\"\n//                   placeholder=\"Max - People\"\n//                   name=\"maxGroupSize\"\n//                   value={formData.maxGroupSize}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//                 <textarea\n//                   name=\"desc\"\n//                   placeholder=\"Description\"\n//                   value={formData.desc}\n//                   onChange={handleChange}\n//                 />\n//               </div>\n//               <div className=\"form-group\">\n//               <div className=\"checkbox-container\">\n//                 <label htmlFor=\"featured\">Featured</label>\n//                 <input type=\"checkbox\" id=\"featured\" name=\"featured\" checked={formData.featured} onChange={handleChange} />\n//               </div>\n//               </div>\n//               <button className='search__btn' type=\"button\" onClick={handleUpdate}>Update</button>\n//             </div>\n//             </form>\n//           </Col>\n//         </Row>\n//       </Container>\n//   );\n// }\n\n// export default UpdateForm;","map":{"version":3,"names":[],"sources":["E:/Final year Project/harmony-in-diversity/frontend/src/Form/UpdateForm.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { Container, Row, Col } from 'reactstrap';\r\n// import './form.css';\r\n// import { BASE_URL } from '../utils/config';\r\n\r\n// function UpdateForm({ tourId }) {\r\n//   const [image, setImage] = useState('');\r\n//   const [formData, setFormData] = useState({\r\n//     title: '',\r\n//     city: '',\r\n//     address: '',\r\n//     distance: '',\r\n//     price: '',\r\n//     maxGroupSize: '',\r\n//     desc: '',\r\n//     photo: null,\r\n//     featured: false,\r\n//   });\r\n//   const [objectId, setObjectId] = useState('');\r\n\r\n//   useEffect(() => {\r\n//     console.log('Id:', tourId);\r\n//     setObjectId(tourId);\r\n\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const response = await fetch(`${BASE_URL}/tours/${tourId}`);\r\n//         const result = await response.json();\r\n//         console.log('Retrieved tour:', result);\r\n//         setObjectId(result.data._id);\r\n//         setFormData(result.data);\r\n//       } catch (error) {\r\n//         console.error('Error retrieving tour:', error);\r\n//         window.alert('Oops. Try Again');\r\n//       }\r\n//     };\r\n\r\n//     if (tourId) {\r\n//       fetchData();\r\n//     }\r\n//   }, [tourId]);\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, type, checked } = e.target;\r\n//     const val = type === 'checkbox' ? checked : value;\r\n//     setFormData((prevData) => ({\r\n//       ...prevData,\r\n//       [name]: val,\r\n//     }));\r\n//   };\r\n\r\n//   function convertToBase64(e) {\r\n//     const file = e.target.files[0];\r\n//     const reader = new FileReader();\r\n//     reader.readAsDataURL(file);\r\n//     reader.onload = () => {\r\n//       const base64Result = reader.result;\r\n//       setImage(base64Result);\r\n//       setFormData((prevData) => ({\r\n//         ...prevData,\r\n//         photo: base64Result,\r\n//       }));\r\n//     };\r\n//     reader.onerror = (error) => {\r\n//       console.error('Error: ', error);\r\n//     };\r\n//   }\r\n\r\n//   const handleUpdate = async () => {\r\n//     console.log('update ObjectId:', objectId);\r\n\r\n//     try {\r\n//       const response = await fetch(`${BASE_URL}/tours/${objectId}`, {\r\n//         method: 'PUT',\r\n//         credentials: 'include',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify(formData),\r\n//       });\r\n//       const result = await response.json();\r\n//       if (!response.ok) {\r\n//         return alert(result.message);\r\n//       }\r\n//       window.alert('Updated Successfully...');\r\n//       window.location.reload();\r\n//     } catch (error) {\r\n//       console.error('Error updating tour:', error);\r\n//       window.alert('Oops. Try Again');\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//       <Container>\r\n//         <Row>\r\n//           <Col>\r\n//           <form>\r\n//       <div className='form-main-group'>\r\n\r\n//               <div className=\"form-group\">\r\n//                 <input type=\"file\" name=\"photo\" onChange={convertToBase64} />\r\n//                 {formData.photo && <img width={100} height={100} src={formData.photo} alt=\"\" />}\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   placeholder=\"Title\"\r\n//                   name=\"title\"\r\n//                   value={formData.title}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   placeholder=\"City\"\r\n//                   name=\"city\"\r\n//                   value={formData.city}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   placeholder=\"Address\"\r\n//                   name=\"address\"\r\n//                   value={formData.address}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   placeholder=\"Distance\"\r\n//                   name=\"distance\"\r\n//                   value={formData.distance}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   placeholder=\"Price\"\r\n//                   name=\"price\"\r\n//                   value={formData.price}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   placeholder=\"Max - People\"\r\n//                   name=\"maxGroupSize\"\r\n//                   value={formData.maxGroupSize}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//                 <textarea\r\n//                   name=\"desc\"\r\n//                   placeholder=\"Description\"\r\n//                   value={formData.desc}\r\n//                   onChange={handleChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group\">\r\n//               <div className=\"checkbox-container\">\r\n//                 <label htmlFor=\"featured\">Featured</label>\r\n//                 <input type=\"checkbox\" id=\"featured\" name=\"featured\" checked={formData.featured} onChange={handleChange} />\r\n//               </div>\r\n//               </div>\r\n//               <button className='search__btn' type=\"button\" onClick={handleUpdate}>Update</button>\r\n//             </div>\r\n//             </form>\r\n//           </Col>\r\n//         </Row>\r\n//       </Container>\r\n//   );\r\n// }\r\n\r\n// export default UpdateForm;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}